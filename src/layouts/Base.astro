---
const {title =  "MAFEFIBER"} = Astro.props
const isAdmin = typeof window !== 'undefined' && JSON.parse(localStorage.getItem('user')  || '{}').id_admin;


---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="icon" type="image/png" sizes="192x192" href="/img/logofinal.png">
    <title>{title}</title>
    <link rel="stylesheet" href="/style.css"/>
    
  
</head>
<body>
    <!-- bacjgrounds -->
     <div class ="animated-bg"></div>
     <div class = "energy-waves" id="waves"></div>
     <div class="light-particles" id="light-particles"></div>

     <!-- header -->
    <header>

        <nav>
            <div class="logo" ><a href="/">‚ö° MAFEFIBER</a></div>
            <ul class="nav-links">
                <li id="welcome-user"></li>
                <li><a href="/login" id="login-link">üîë Iniciar Sesion</a></li>
                <li><a href="/products">üõí Productos</a></li>
                <li><a href="#contacto">üìû Contacto</a></li>
                <li id="logout-li" style="display:none;"><a href="#" id="logout-link">Cerrar sesi√≥n</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <slot/>
    </main>

    <footer id="contacto">
    <div class="footer-content">
        <div class="contact-grid">
          <div class="contact-card">
            <div class="contact-icon">üìû</div>
            <h3>Ll√°manos</h3>
            <p>956 025 773</p>
            <p>Disponible 8am a 11pm</p>
          </div>
          <div class="contact-card">
            <div class="contact-icon">‚úâÔ∏è</div>
            <h3>Escr√≠benos</h3>
            <p>ameesber@hotmail.com</p>
            <p>Respuesta en menos de 1 hora</p>
          </div>
          <div class="contact-card">
            <div class="contact-icon">üåê</div>
            <h3>S√≠guenos en nuestras redes</h3>
            <div class="social-icons">
              <a href="https://www.facebook.com/profile.php?id=61580218216883" target="_blank" rel="noopener" class="social-circle" aria-label="Facebook">
                <span>f</span>
              </a>
              <a href="https://www.tiktok.com/@mafefiber" target="_blank" rel="noopener" class="social-circle" aria-label="TikTok" style="font-family: Arial, sans-serif;">
                <span>‚ô™</span>
              </a>
            </div>
          </div>
          <div class="contact-card">
            <div class="contact-icon">
              <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width:32px;height:32px;vertical-align:middle;" />
            </div>
            <h3>WhatsApp</h3>
            <p><a href="https://wa.me/51956025773?text=Buenas%2C%20le%20escribo%20porque%20vi%20su%20p%C3%A1gina%20y%20estoy%20interesado%20en%20contratar%20su%20servicio" target="_blank" rel="noopener" class="maps-link">Escr√≠benos por WhatsApp</a></p>
            <p>Atenci√≥n r√°pida</p>
          </div>
        </div>
        <p>¬© 2025 MAFEFIBER - Fibra Sin L√≠mites</p>
      </div>
    </footer>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const user = JSON.parse(localStorage.getItem('user') || '{}');
    const welcomeUser = document.getElementById('welcome-user');
    const loginLink = document.getElementById('login-link');
    const logoutLi = document.getElementById('logout-li');
    if (welcomeUser) {
      if (user && user.full_name) {
        welcomeUser.textContent = `üëã Bienvenido, ${user.full_name}`;
        if (loginLink) loginLink.style.display = 'none';
        if (logoutLi) logoutLi.style.display = 'inline-block';
      } else {
        welcomeUser.textContent = '';
        if (loginLink) loginLink.style.display = 'inline-block';
        if (logoutLi) logoutLi.style.display = 'none';
      }
    }
    // Logout
    const logoutLink = document.getElementById('logout-link');
    if (logoutLink) {
      logoutLink.onclick = function(e) {
        e.preventDefault();
        localStorage.removeItem('token');
        localStorage.removeItem('user');
        window.location.href = '/login';
      };
    }
  });
</script>
</body>
</html>